# GitHub workflow for deploying the documentation to GitHub Pages
name: deploy_doc

on:
    push:
        branches:
          - main
          - documentation
#        paths:
#          - 'doc/**'

jobs:
    deploy_doc:
        runs-on: ubuntu-latest
        steps:
          - name: üõéÔ∏è Checkout
            uses: actions/checkout@v3
          - name: Setup environment
            run: |
                pip install sphinx
                pip install sphinx-copybutton
                pip install sphinx-rtd-theme
                pip install sphinx-tabs
          - name: üìñ Build documentation
            run: |
                echo ${GITHUB_WORKSPACE}
                cd ${GITHUB_WORKSPACE}
                cd ${GITHUB_WORKSPACE}/doc/
                make
          - name: üöÄ Deploy documentation
            uses: peaceiris/actions-gh-pages@v3
            with:
                github_token: ${{ secrets.GITHUB_TOKEN }}
                publish_dir: publish
